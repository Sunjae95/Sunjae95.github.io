<!DOCTYPE html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="layout-lang" content="ko"><meta name="day-prompt" content="d ago"><meta name="hour-prompt" content="hr ago"><meta name="minute-prompt" content="min ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="1주차 - 공통컴포넌트,상품옵션 구현 회고" /><meta property="og:locale" content="ko" /><meta name="description" content="📃구현 CheckList!!" /><meta property="og:description" content="📃구현 CheckList!!" /><link rel="canonical" href="https://sunjae95.github.io/posts/1w_2/" /><meta property="og:url" content="https://sunjae95.github.io/posts/1w_2/" /><meta property="og:site_name" content="Sun’s Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-01-31T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="1주차 - 공통컴포넌트,상품옵션 구현 회고" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-01-31T00:00:00+09:00","datePublished":"2022-01-31T00:00:00+09:00","description":"📃구현 CheckList!!","headline":"1주차 - 공통컴포넌트,상품옵션 구현 회고","mainEntityOfPage":{"@type":"WebPage","@id":"https://sunjae95.github.io/posts/1w_2/"},"url":"https://sunjae95.github.io/posts/1w_2/"}</script><title>1주차 - 공통컴포넌트,상품옵션 구현 회고 | Sun's Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Sun's Blog"><meta name="application-name" content="Sun's Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang=""><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/favicons/profile.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Sun's Blog</a></div><div class="site-subtitle font-italic">꾸준하게 공부하는 것이 중요해</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/Sunjae95" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['tjswo9502','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>1주차 - 공통컴포넌트,상품옵션 구현 회고</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>1주차 - 공통컴포넌트,상품옵션 구현 회고</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> SeonjaeLee </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Jan 31, 2022, 12:00 AM +0900" >Jan 31<i class="unloaded">2022-01-31T00:00:00+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1747 words">9 min read</span></div></div><div class="post-content"><h2 id="구현-checklist">📃구현 CheckList!!</h2><ul class="task-list"><li class="task-list-item" hide-bullet><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />상품 옵션 세트를 추가, 삭제 기능<li class="task-list-item" hide-bullet><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />상품 옵션 세트 내 옵션 추가, 삭제 기능<li class="task-list-item" hide-bullet><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />옵션 내 추가옵션 추가, 삭제 기능<li class="task-list-item" hide-bullet><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />환율 바꾸기 기능<li class="task-list-item" hide-bullet><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />세금 적용</ul><h2 id="과제-설명">📖과제 설명</h2><p>이번 과제는 페어프로그래밍하면서 하나의 컴포넌트를 개발하는 것이 아니라 각자 맡은 영역을 분배하여 구현하고 한 페이지에 각자 구현한 컴포넌트를 쌓는 과제였다. 팀원들과 공통된 컴포넌트를 나누고 나는 가장 기본적인 틀인 <code class="language-plaintext highlighter-rouge">SettingFrame</code>, SettingFrame안에 중복되는 <code class="language-plaintext highlighter-rouge">SettingFrameItem</code>를 맡았다.<br /> 개인적인 구현사항은 상품을 얼마에 팔것인지를 정하고 다양한 옵션에 따른 가격을 정하는 <code class="language-plaintext highlighter-rouge">상품옵션</code>이었다.</p><h2 id="topdown-vs-bottomup">🎭TopDown vs BottomUp</h2><p>나는 평소에 가장 작은 단위인 컴포넌트에서 점점 컴포넌트 크기를 키워가는 BottomUp방식을 사용해왔다. 그렇기에 이번에도 <code class="language-plaintext highlighter-rouge">BottomUp방식으로 컴포넌트를 개발</code>했다. 디자인은 내가 생각하는 대로 됐지만, <code class="language-plaintext highlighter-rouge">이벤트를 적용할 때 쉽게 적용되지 않았다.</code></p><p>컴포넌트 <code class="language-plaintext highlighter-rouge">하나하나에 이벤트</code>를 걸어주기도, <code class="language-plaintext highlighter-rouge">가장 상위에 이벤트를 적용</code>해보기도 했지만, 구현에 어려움을 느꼈다. 시간을 많이 소요했으나 완성하지 못했기 때문에 이거는 설계에서 실패했다고 생각하게 됐다. UI는 BottomUp방식이 적합하다고 판단했으나 리액트에서는 <code class="language-plaintext highlighter-rouge">단방향 데이터 통신</code>이기 때문에 데이터흐름대로 설계하려면 <code class="language-plaintext highlighter-rouge">TopDown 방식이 효율적</code>이라고 생각했다.</p><p>TopDown방식으로 생각하니 데이터 설계가 필요하다고 느꼈다.</p><div lang="jsx" class="language-jsx highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="c1">// 상품옵션</span>
<span class="nx">productOptions</span> <span class="o">=</span> <span class="p">[</span><span class="nx">옵션세트1</span><span class="p">,</span><span class="nx">옵션세트2</span><span class="p">,</span><span class="nx">옵션세트3</span><span class="p">,...]</span>
<span class="c1">// 옵션 세트 id값 추가</span>
<span class="nx">optSet</span> <span class="o">=</span> <span class="p">{</span>
	<span class="na">이미지</span><span class="p">:</span> <span class="nx">파일</span><span class="p">,</span>
	<span class="na">옵션</span><span class="p">:</span> <span class="p">[</span><span class="nx">옵션1</span><span class="p">,</span> <span class="nx">옵션2</span><span class="p">,</span> <span class="nx">옵션3</span><span class="p">,...]</span>
<span class="p">}</span>
<span class="c1">// 옵션 id값 추가</span>
<span class="nx">option</span> <span class="o">=</span> <span class="p">{</span>
	<span class="na">옵션명</span><span class="p">:</span> <span class="nx">string</span><span class="p">,</span>
	<span class="na">상품정상가</span><span class="p">:</span> <span class="nx">number</span><span class="p">,</span>
	<span class="na">할인율</span><span class="p">:</span> <span class="nx">number</span><span class="p">,</span>
	<span class="na">상품판매가</span><span class="p">:</span> <span class="nx">number</span><span class="p">,</span>
	<span class="na">재고</span><span class="p">:</span> <span class="nx">number</span><span class="p">,</span>
	<span class="na">과세유무</span><span class="p">:</span> <span class="nx">string</span><span class="p">,</span>
	<span class="na">추가옵션</span><span class="p">:</span> <span class="p">[</span><span class="nx">추가옵션1</span><span class="p">,</span> <span class="nx">추가옵션2</span><span class="p">,...]</span>
<span class="p">}</span>
<span class="c1">// 추가옵션 id값 추가</span>
<span class="nx">addtionOption</span> <span class="o">=</span> <span class="p">{</span>
	<span class="na">추가옵션명</span><span class="p">:</span> <span class="nx">string</span><span class="p">,</span>
	<span class="na">추가옵션정상가</span><span class="p">:</span> <span class="nx">number</span><span class="p">,</span>
<span class="p">}</span>
</pre></table></code></div></div><p>이처럼 데이터를 설계하고 배열이 필요한 부분에서 중복되는 부분을 찾게 되고 어떻게 이벤트를 걸까 고민하게 되어 id값을 추가하여 <code class="language-plaintext highlighter-rouge">productOption의 속성에 맞는 id와 target.id와 같으면</code> 이벤트를 작동시키는 방법을 생각하게 되어 상품옵션 기능을 구현했다.</p><p><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 300'%3E%3C/svg%3E" data-proofer-ignore data-src="../../assets/img/posts/1w_2_productOption.gif" alt="productOption" width="600" height="300" /></p><h2 id="명확한-코드-작성하기">😊명확한 코드 작성하기</h2><p><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 300'%3E%3C/svg%3E" data-proofer-ignore data-src="../../assets/img/posts/1w_2_frame1.png" alt="frame1" width="300" height="300" class="left" /></p><p><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 300'%3E%3C/svg%3E" data-proofer-ignore data-src="../../assets/img/posts/1w_2_frame2.png" alt="frame2" width="300" height="300" class="right" /></p><p><br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /> <br /></p><p>SettingFrame(빨간색으로 칠해져있는 부분)은 각자의 콘텐츠를 넣는 틀이고, SettingFrameItem(보라색으로 칠해져있는 부분)은 SettingFrame내부의 공통되는 틀이다. SettingFrameItem은 모두 일정하고 필수로 사용하지 않아도 되는 부분이었지만, SettingFrame은 상품옵션과 같이 일정하지 않은 부분이 있으므로 어떻게 하면 공통적인 부분만 남기고 다른 부분을 추가하는 고민을 했다.</p><p>아래는 각 컴포넌트에 따른 사용법을 나타낸 코드이다.</p><div lang="jsx" class="language-jsx highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="c1">// 상품 기본 정보</span>
<span class="kd">function</span> <span class="nx">BasicInfo</span><span class="p">()</span> <span class="p">{</span>
	<span class="c1">// ...</span>
	<span class="k">return</span> <span class="p">(</span>
		<span class="p">&lt;</span><span class="nc">SettingFrame</span> <span class="na">title</span><span class="p">=</span><span class="s">"상품기본정보"</span><span class="p">&gt;</span>
		<span class="si">{</span><span class="cm">/* ... */</span><span class="si">}</span>
		<span class="p">&lt;/</span><span class="nc">SettingFrame</span><span class="p">&gt;</span>
        <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// 상품 옵션</span>
<span class="kd">function</span> <span class="nx">ProductOption</span><span class="p">()</span> <span class="p">{</span>
	<span class="c1">// ...</span>
	<span class="k">return</span> <span class="p">(</span>
            <span class="p">&lt;</span><span class="nc">SettingFrame</span>
            <span class="na">title</span><span class="p">=</span><span class="s">"상품옵션"</span>
            <span class="na">isBackground</span>  <span class="c1">//배경색 필요</span>
            <span class="na">isButton</span>  <span class="c1">// 버튼 필요</span>
            <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">Clickhandler</span><span class="si">}</span>
            <span class="na">onChange</span><span class="p">=</span><span class="si">{</span><span class="nx">handleChange</span><span class="si">}</span><span class="p">&gt;</span>
            <span class="si">{</span><span class="cm">/* ... */</span><span class="si">}</span>
            <span class="p">&lt;/</span><span class="nc">SettingFrame</span><span class="p">&gt;</span>
        <span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><p>최근 <code class="language-plaintext highlighter-rouge">읽기 좋은코드가 좋은 코드다</code>라는 책을 읽고 “다른 사람이 내 코드를 보면 어떻게 이해할까?” 라는 고민했다. 마침 이번 과제에서 팀원이 내가 만든 코드를 보고 적용하는 기회를 얻게 되어 props 내용을 어떻게 해야 잘 작성할 수 있을까 고민하게 됐다.</p><p>책에선 불리언 이름 고치기라는 소주제를 다룬 부분을 읽었는데, 불리언값의 의미를 명확하게 하려고 <code class="language-plaintext highlighter-rouge">is, has, can, should</code>를 붙이면 좋다고 읽었고 나도 이 부분에 동감하고 자주 사용하는 is를 접두어로 붙여 isBackground, isButton으로 정했다.</p><h2 id="️hook과-컴포넌트-분리">🤸‍♂️Hook과 컴포넌트 분리</h2><p>커스텀 훅을 정의할 때 중요한 것은 코드의 중복을 줄이고 재사용성을 높이며 코드를 효율적으로 관리하기 위함이라고 학습했다. 이번 상품옵션의 추가, 삭제, 수정 부분의 로직이 컴포넌트 내에서 너무 길어졌기 때문에 <code class="language-plaintext highlighter-rouge">코드를 효율적인 관리의 필요성</code>을 느꼈다.</p><div lang="jsx" class="language-jsx highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="c1">// ProductOption.jsx</span>
<span class="kd">function</span> <span class="nx">ProductOption</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="p">[</span><span class="nx">state</span><span class="p">,</span> <span class="nx">setState</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([]);</span>
	<span class="kd">const</span> <span class="nx">newOptSet</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="cm">/* ...*/</span><span class="p">});</span>
	<span class="kd">const</span> <span class="nx">newOption</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="cm">/* ...*/</span><span class="p">});</span>
	<span class="kd">const</span> <span class="nx">newOptAddition</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="cm">/* ...*/</span><span class="p">});</span>
	<span class="kd">const</span> <span class="nx">handleAdd</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">id</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/* ...*/</span><span class="p">});</span>
	<span class="kd">const</span> <span class="nx">handleDelete</span><span class="o">=</span> <span class="p">({</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">id</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/* ...*/</span><span class="p">});</span>	
	<span class="kd">const</span> <span class="nx">handleChange</span><span class="o">=</span> <span class="p">({</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">id</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/* ...*/</span><span class="p">});</span>	
	<span class="kd">const</span> <span class="nx">ClickHandler</span> <span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
		<span class="c1">//...</span>
		<span class="nx">handleAdd</span><span class="p">(</span><span class="cm">/*...*/</span><span class="p">);</span>
		<span class="nx">handleDelete</span><span class="p">(</span><span class="cm">/*...*/</span><span class="p">);</span>
	<span class="p">};</span>

	<span class="k">return</span> <span class="p">(</span>
            <span class="p">&lt;</span><span class="nc">SettingFrame</span>
            <span class="na">title</span><span class="p">=</span><span class="s">"상품옵션"</span>
            <span class="na">isBackground</span>  <span class="c1">//배경색 필요</span>
            <span class="na">isButton</span>  <span class="c1">// 버튼 필요</span>
            <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">Clickhandler</span><span class="si">}</span>
            <span class="na">onChange</span><span class="p">=</span><span class="si">{</span><span class="nx">handleChange</span><span class="si">}</span><span class="p">&gt;</span>
                    <span class="si">{</span><span class="cm">/* ... */</span><span class="si">}</span>
            <span class="p">&lt;/</span><span class="nc">SettingFrame</span><span class="p">&gt;</span>
        <span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><p>ProductOption 내부에 이렇게나 많은 로직을 포함하게 됐다. 이는 코드를 작성하면서 <code class="language-plaintext highlighter-rouge">가독성을 떨어 트릴</code> 뿐만 아니라 <code class="language-plaintext highlighter-rouge">상수를 매번 생성</code>하는 건 불필요하다 느꼈다. 그래서 이를 아래와 같은 코드로 분리했다.</p><div lang="jsx" class="language-jsx highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre><td class="rouge-code"><pre><span class="c1">// hook/productOption.js</span>
<span class="kd">const</span> <span class="nx">newOptSet</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="cm">/* ...*/</span><span class="p">});</span>
<span class="kd">const</span> <span class="nx">newOption</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="cm">/* ...*/</span><span class="p">});</span>
<span class="kd">const</span> <span class="nx">newOptAddition</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="cm">/* ...*/</span><span class="p">});</span>
	
<span class="kd">const</span> <span class="nx">useProductState</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="p">[</span><span class="nx">state</span><span class="p">,</span> <span class="nx">setState</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([]);</span>
	<span class="kd">const</span> <span class="nx">handleAdd</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">id</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/* ...*/</span><span class="p">});</span>
	<span class="kd">const</span> <span class="nx">handleDelete</span><span class="o">=</span> <span class="p">({</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">id</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/* ...*/</span><span class="p">});</span>	
	<span class="kd">const</span> <span class="nx">handleChange</span><span class="o">=</span> <span class="p">({</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">id</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/* ...*/</span><span class="p">});</span>	
	<span class="kd">const</span> <span class="nx">ClickHandler</span> <span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
		<span class="c1">//...</span>
		<span class="nx">handleAdd</span><span class="p">(</span><span class="cm">/*...*/</span><span class="p">);</span>
		<span class="nx">handleDelete</span><span class="p">(</span><span class="cm">/*...*/</span><span class="p">);</span>
        <span class="p">};</span>

	<span class="k">return</span> <span class="p">{</span><span class="nx">state</span><span class="p">,</span> <span class="nx">ClickHandler</span><span class="p">,</span> <span class="nx">handleChange</span><span class="p">};</span>
<span class="p">};</span>

<span class="c1">// ProductOption.jsx</span>
<span class="kd">function</span> <span class="nx">ProductOption</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">const</span> <span class="p">{</span><span class="nx">state</span><span class="p">,</span> <span class="nx">ClickHandler</span><span class="p">,</span> <span class="nx">handleChange</span><span class="p">}</span> <span class="o">=</span> <span class="nx">useProductState</span><span class="p">();</span>

	<span class="k">return</span> <span class="p">(</span>
            <span class="p">&lt;</span><span class="nc">SettingFrame</span>
            <span class="na">title</span><span class="p">=</span><span class="s">"상품옵션"</span>
            <span class="na">isBackground</span>  <span class="c1">//배경색 필요</span>
            <span class="na">isButton</span>  <span class="c1">// 버튼 필요</span>
            <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">Clickhandler</span><span class="si">}</span>
            <span class="na">onChange</span><span class="p">=</span><span class="si">{</span><span class="nx">handleChange</span><span class="si">}</span><span class="p">&gt;</span>
                    <span class="si">{</span><span class="cm">/* ... */</span><span class="si">}</span>
            <span class="p">&lt;/</span><span class="nc">SettingFrame</span><span class="p">&gt;</span>
        <span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><p>만약 상품 옵션과 같은 로직이 있는 경우 이처럼 커스텀훅을 선언하여 사용하게 되면 컴포넌트를 선언할 때 어렵지 않다고 생각한다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%EC%9B%90%ED%8B%B0%EB%93%9C%ED%94%84%EB%A6%AC%EC%98%A8%EB%B3%B4%EB%94%A9/'>원티드프리온보딩</a>, <a href='/categories/task/'>Task</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/wanted/" class="post-tag no-text-decoration" >wanted</a> <a href="/tags/frontend/" class="post-tag no-text-decoration" >frontend</a> <a href="/tags/react/" class="post-tag no-text-decoration" >react</a> <a href="/tags/hook/" class="post-tag no-text-decoration" >hook</a> <a href="/tags/cleancode/" class="post-tag no-text-decoration" >cleancode</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> <span class="text-muted small">-- Missing configuration options! --</span></div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=1주차 - 공통컴포넌트,상품옵션 구현 회고 - Sun's Blog&url=https://sunjae95.github.io/posts/1w_2/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=1주차 - 공통컴포넌트,상품옵션 구현 회고 - Sun's Blog&u=https://sunjae95.github.io/posts/1w_2/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=1주차 - 공통컴포넌트,상품옵션 구현 회고 - Sun's Blog&url=https://sunjae95.github.io/posts/1w_2/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink('', '')" data-toggle="tooltip" data-placement="top" title=""> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/This/">This</a><li><a href="/posts/ExecutionContext/">Execution Context(실행 컨텍스트)</a><li><a href="/posts/2w_1/">2주차 - 대시보드 페이지 구현</a><li><a href="/posts/TIL_27/">밀렸던 TIL</a><li><a href="/posts/VIF_project_KPT/">VIF 프로젝트 KPT 회고</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/frontend/">frontend</a> <a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/devcourse/">devcourse</a> <a class="post-tag" href="/tags/react/">react</a> <a class="post-tag" href="/tags/wanted/">wanted</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/baekjoon/">baekjoon</a> <a class="post-tag" href="/tags/wecode/">wecode</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/vue/">vue</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/1w_3/"><div class="card-body"> <span class="timeago small" >Feb 9<i class="unloaded">2022-02-09T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>1주차(개인) - 가구정보 조합 컴포넌트</h3><div class="text-muted small"><p> 📃구현 CheckList!! 가구 정보가 있는 곳에 돋보기 모양의 버튼 표시 돋보기 버튼을 클릭하면 tool tip 출력 닫기 버튼을 클릭하면 tool tip 제거 tool tip 하나만 출력, 다른 가구 선택 시 다른 tool tip 출력 하단 상품목록 클릭 시 해당 tool tip 출력 입점되어있는 가구, 입점되지 않는 가...</p></div></div></a></div><div class="card"> <a href="/posts/2w_1/"><div class="card-body"> <span class="timeago small" >Feb 12<i class="unloaded">2022-02-12T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>2주차 - 대시보드 페이지 구현</h3><div class="text-muted small"><p> 📃구현 CheckList!! 요청 내역 카드 불러오기 토글 필터링 체크박스 필터링 사이드바 슬라이드 카드 불러오기 토글 필터링 체크박스 필터링 사이드바 ...</p></div></div></a></div><div class="card"> <a href="/posts/2w_2/"><div class="card-body"> <span class="timeago small" >Feb 13<i class="unloaded">2022-02-13T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>2주차 - 메신저 구현</h3><div class="text-muted small"><p> 📃구현 CheckList!! 유저이름 입력 기능 메시지 입력 메시지 삭제 답글 달기 유저네임 입력/ 대화창 메시지 표시 메시지 입력 메시지 답장 메시지 삭제 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/1w_1/" class="btn btn-outline-primary" prompt="previous"><p>1주차 - 환율계산기</p></a> <a href="/posts/1w_3/" class="btn btn-outline-primary" prompt="next"><p>1주차(개인) - 가구정보 조합 컴포넌트</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/username">SeonjaeLee</a>. <span class="text-muted">-- Missing configuration options! --</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/frontend/">frontend</a> <a class="post-tag" href="/tags/programmers/">programmers</a> <a class="post-tag" href="/tags/devcourse/">devcourse</a> <a class="post-tag" href="/tags/react/">react</a> <a class="post-tag" href="/tags/wanted/">wanted</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/baekjoon/">baekjoon</a> <a class="post-tag" href="/tags/wecode/">wecode</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/vue/">vue</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://sunjae95.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
